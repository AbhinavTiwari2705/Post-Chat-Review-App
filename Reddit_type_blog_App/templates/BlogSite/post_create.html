{% extends 'BlogSite/base.html' %}
{% load crispy_forms_tags %}
{% block content %}

<style>
    label{
        font-size: 20px;
    }
</style>




<div class="jumbotron" style="background: rgb(22, 21, 21); border-radius: 0; height: 930px;">
    <div class='container' style="background: rgb(230, 225, 221); border-radius: 30px; padding: 60px;">
        <h1 style="margin-bottom: 80px;">New post</h1>
        <form method="POST" class="post-form" enctype="multipart/form-data">
            {% csrf_token %}

            <label for="author">Author: </label>
            <input type="text" name="author" id="" style="margin-left: 30px; margin-bottom: 20px; border-radius: 5px;"><br>

            <div style="margin-top: -20px; margin-left: 100px;">
                {% for error in form.author.errors %}
                    <small class="text-danger">{{error}}</small>
                {% endfor %}
            </div>
                
            <br>

            <label for="Category">Category: </label>
            <select name="Category" id="" style="height: 30px; width: 210px; margin-left: 10px; margin-bottom: 20px; border-radius: 5px">
                <option value="The Climate Crisis">The Climate Crisis</option>
                <option value="Food">Food</option>
                <option value="Movies/Webseries">Movies/Webseries</option>
                <option value="Programming">Programming</option>
                <option value="Random">Random</option>
            </select>
            <br>

            <div>
                {% for error in form.Category.errors %}
                    <small class="text-danger">{{error}}</small>
                {% endfor %}
            </div>
                
            <br>

            <label for="title">Title: </label>
            <input type="text" name="title" id="" style="margin-left: 53px; margin-bottom: 20px; border-radius: 5px"><br>
            
            <div style="margin-top: -20px; margin-left: 100px;">
                {% for error in form.title.errors %}
                    <small class="text-danger">{{error}}</small>
                {% endfor %}
            </div>    
            <br>


            <label for="image">Image: </label>
            <input type="file" name="image" id="" style="margin-left: 36px; margin-bottom: 20px; border-radius: 4px"><br>
            {% for error in form.image.errors %}
                <small class="text-danger">{{error}}</small>
            {% endfor %}
            <br>

            <p style="font-size: 20px;">Text: </p>
            <textarea name="text" id="" cols="80" rows="10" style="border-radius: 20px; margin-left:80px; margin-top: -35px;outline: none;"></textarea><br>
            
            <div style="margin-left: 100px;">
                {% for error in form.text.errors %}
                    <small class="text-danger">{{error}}</small>
                {% endfor %}
            </div>
            <br>
            <br>

            
            
            
            
            <div>
                <button type="submit" class="save btn btn-dark">Save</button>
            </div>
        </form>
    </div>
</div>


{% if img_obj %}
<h3>Succesfully uploaded : {{img_obj.title}}</h3>
<img src="{{ img_obj.image.url}}" alt="connect" style="max-height:300px">
{% endif %}


{% endblock %}